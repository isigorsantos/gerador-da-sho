# No topo do arquivo, fora das funções, crie os contadores
# (Você pode começar com os números que quiser)
stats = {
    'links': 1458,
    'visitas': 5291
}

@app.route('/', methods=['GET', 'POST'])
def index():
    # Toda vez que a página carrega, conta como uma visita
    stats['visitas'] += 1
    
    link_novo = None
    
    if request.method == 'POST':
        # Toda vez que o botão é clicado, conta como um link gerado
        stats['links'] += 1
        
        link_usuario = request.form.get('link_usuario')
        # ... aqui vai a sua lógica de conversão da Shopee ...
        link_novo = "https://s.shopee.com.br/exemplo" 

    # Enviamos os números reais para o HTML
    return render_template('index.html', 
                           link_novo=link_novo, 
                           links_contagem=stats['links'], 
                           visitas_contagem=stats['visitas'])

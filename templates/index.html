<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador da Sho</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">
    <style>
        :root {
            --bg-body: #080808; --glass-bg: rgba(255, 255, 255, 0.05); --glass-border: rgba(255, 255, 255, 0.15);
            --texto-p: #ffffff; --texto-s: rgba(255, 255, 255, 0.6); --marca: #ee4d2d;
        }
        .light-mode {
            --bg-body: #f0f2f5; --glass-bg: rgba(255, 255, 255, 0.45); --glass-border: rgba(255, 255, 255, 0.7);
            --texto-p: #1c1c1e; --texto-s: rgba(0, 0, 0, 0.5);
        }
        body { background: var(--bg-body); color: var(--texto-p); font-family: -apple-system, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; transition: 0.5s; overflow: hidden; }
        
        /* BOLHAS DE COR FUNDO */
        .blob { position: absolute; width: 350px; height: 350px; background: radial-gradient(circle, rgba(238, 77, 45, 0.2) 0%, transparent 70%); filter: blur(60px); z-index: -1; animation: move 20s infinite alternate; }
        @keyframes move { from { transform: translate(-40%, -40%); } to { transform: translate(40%, 40%); } }

        .container { text-align: center; width: 90%; max-width: 400px; padding: 30px 25px; border-radius: 45px; background: var(--glass-bg); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); border: 1px solid var(--glass-border); box-shadow: 0 20px 40px rgba(0,0,0,0.3); position: relative; }
        .theme-toggle { position: absolute; top: 20px; right: 25px; cursor: pointer; color: var(--texto-s); font-size: 20px; }
        .logo { width: 100px; border-radius: 25%; margin-bottom: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        h1 { margin: 0 0 5px 0; font-size: 24px; font-weight: 800; }
        .subtexto { color: var(--texto-s); font-size: 14px; margin-bottom: 25px; }
        
        input { width: 100%; padding: 18px 20px; margin-bottom: 15px; border-radius: 50px; background: rgba(255,255,255,0.05); color: var(--texto-p); border: 1px solid var(--glass-border); box-sizing: border-box; font-size: 16px; outline: none; }
        .btn-gerar { width: 100%; padding: 18px; margin-bottom: 15px; border-radius: 50px; border: none; background: linear-gradient(145deg, #ff5e3a, #ee4d2d); color: white; font-weight: 700; cursor: pointer; font-size: 16px; box-shadow: 0 10px 20px rgba(238, 77, 45, 0.3); }

        .resultado { margin-top: 20px; padding: 20px; border-radius: 30px; background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); animation: slide 0.5s ease; }
        @keyframes slide { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .sucesso { color: #30d158; font-weight: 700; display: block; margin-bottom: 10px; }
        .link-text { color: var(--marca); font-weight: 600; word-break: break-all; font-size: 14px; display: block; margin-bottom: 15px; }
        .btn-acao { display: flex; gap: 10px; }
        .btn-acao * { flex: 1; padding: 12px; border-radius: 50px; border: none; font-weight: 700; font-size: 13px; cursor: pointer; text-decoration: none; background: rgba(255,255,255,0.1); color: var(--texto-p); }
        .btn-abrir { background: var(--marca) !important; color: white !important; }

        .canais { margin-top: 30px; border-top: 1px solid var(--glass-border); padding-top: 20px; }
        .btn-social { display: block; width: 100%; padding: 12px; border-radius: 50px; font-weight: 700; color: white !important; text-decoration: none; margin-bottom: 10px; font-size: 14px; }
        .btn-tg { background: #0088cc; } .btn-wa { background: #34c759; }
        #aviso { visibility: hidden; background: #30d158; color: white; border-radius: 50px; padding: 12px 25px; position: fixed; bottom: 30px; font-weight: 700; }
        #aviso.show { visibility: visible; animation: fade 2s; }
        @keyframes fade { 0%, 100% { opacity: 0; } 20%, 80% { opacity: 1; } }
    </style>
</head>
<body>
    <div class="blob"></div>
    <div class="container">
        <div class="theme-toggle" onclick="toggleTheme()"><i id="theme-icon" class="fas fa-sun"></i></div>
        <img src="{{ url_for('static', filename='logo.png') }}" class="logo">
        <h1>Gerador da Sho</h1>
        <p class="subtexto">Links exclusivos Cupons da Sho üß°</p>
        <form method="POST">
            <input type="text" name="link_usuario" placeholder="Cole seu link aqui..." required>
            <button type="submit" class="btn-gerar">{% if link_novo %} GERAR OUTRO {% else %} GERAR LINK {% endif %}</button>
        </form>
        {% if link_novo %}<div class="resultado"><span class="sucesso">‚úÖ Link gerado!</span><span class="link-text" id="meuLink">{{ link_novo }}</span><div class="btn-acao"><a href="{{ link_novo }}" target="_blank" class="btn-abrir">ABRIR</a><button onclick="copiar()">COPIAR</button></div></div>{% endif %}
        <div class="canais"><a href="https://t.me/cuponsdasho" class="btn-social btn-tg">Telegram</a><a href="https://whatsapp.com/channel/0029VaGaBZj5vKACU9lGcr1A" class="btn-social btn-wa">WhatsApp</a></div>
    </div>
    <div id="aviso">Copiado! ‚úîÔ∏è</div>
    <script>
        function toggleTheme() { document.body.classList.toggle('light-mode'); const i = document.getElementById('theme-icon'); if (document.body.classList.contains('light-mode')) { i.classList.replace('fa-sun','fa-moon'); localStorage.setItem('t','l'); } else { i.classList.replace('fa-moon','fa-sun'); localStorage.setItem('t','d'); } }
        window.onload = () => { if (localStorage.getItem('t') === 'l') { document.body.classList.add('light-mode'); document.getElementById('theme-icon').classList.replace('fa-sun','fa-moon'); } }
        function copiar() { const t = document.getElementById('meuLink').innerText; const i = document.createElement("textarea"); i.value = t; document.body.appendChild(i); i.select(); document.execCommand("copy"); document.body.removeChild(i); const x = document.getElementById("aviso"); x.className = "show"; setTimeout(() => { x.className = ""; }, 2000); }
    </script>
</body>
</html>
